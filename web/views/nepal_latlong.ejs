<!DOCTYPE html>
<!-- This is a first attempt of adding lat/long points for Nepal and Springfield, Massachusetts using Web World Wind. -->
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Simple Data Plotting</title>
    <!-- Include the Web World Wind library. -->
    <script src="http://worldwindserver.net/webworldwind/worldwindlib.js" type="text/javascript"></script>
</head>
<body>
<div style="position: absolute; top: 50px; left: 30px;">
    <!-- Create a canvas for Web World Wind. -->
    <canvas id="canvasOne" width="900" height="900">
        Your browser does not support HTML5 Canvas.
    </canvas>
</div>
<script>
    // Register an event listener to be called when the page is loaded.
    window.addEventListener("load", eventWindowLoaded, false);

    // Define the event listener to initialize Web World Wind.
    function eventWindowLoaded() {
        // Create a World Window for the canvas.
        var wwd = new WorldWind.WorldWindow("canvasOne");

        // Add some image layers to the World Window's globe.
        wwd.addLayer(new WorldWind.BMNGOneImageLayer());
        wwd.addLayer(new WorldWind.BingAerialWithLabelsLayer());

        // Add a compass, a coordinates display and some view controls to the World Window.
        wwd.addLayer(new WorldWind.CompassLayer());
        wwd.addLayer(new WorldWind.CoordinatesDisplayLayer(wwd));
        wwd.addLayer(new WorldWind.ViewControlsLayer(wwd));
		
		//Add a placemark at Balaju, Kathmandu
		placemarkAttributes = new WorldWind.PlacemarkAttributes();
		placemarkAttributes.imageScale = 30;
		placemarkAttributes.imageColor = new WorldWind.Color(0, 1, 0, 0.8);
		var placemark = new WorldWind.Placemark(
			new WorldWind.Position(27.73483, 85.31126, 0),
			true,
			placemarkAttributes
		);
		var placemarkLayer = new WorldWind.RenderableLayer("Placemarks");
		placemarkLayer.addRenderable(placemark);
		wwd.addLayer(placemarkLayer);
		
		//Add a placemark at Chabahil, Kathmandu
		placemarkAttributes = new WorldWind.PlacemarkAttributes();
		placemarkAttributes.imageScale = 30;
		placemarkAttributes.imageColor = new WorldWind.Color(0, 1, 0, 0.8);
		var placemark = new WorldWind.Placemark(
			new WorldWind.Position(27.70149, 85.34029, 0),
			true,
			placemarkAttributes
		);
		var placemarkLayer = new WorldWind.RenderableLayer("Placemarks");
		placemarkLayer.addRenderable(placemark);
		wwd.addLayer(placemarkLayer);
		
		//Add a placemark at Jawalakhel, Kathmandu
		placemarkAttributes = new WorldWind.PlacemarkAttributes();
		placemarkAttributes.imageScale = 30;
		placemarkAttributes.imageColor = new WorldWind.Color(0, 1, 0, 0.8);
		var placemark = new WorldWind.Placemark(
			new WorldWind.Position(27.67314, 85.31322, 0),
			true,
			placemarkAttributes
		);
		var placemarkLayer = new WorldWind.RenderableLayer("Placemarks");
		placemarkLayer.addRenderable(placemark);
		wwd.addLayer(placemarkLayer);
		
		//Add a placemark at Kalanki, Kathmandu
		placemarkAttributes = new WorldWind.PlacemarkAttributes();
		placemarkAttributes.imageScale = 30;
		placemarkAttributes.imageColor = new WorldWind.Color(0, 1, 0, 0.8);
		var placemark = new WorldWind.Placemark(
			new WorldWind.Position(27.69225, 85.27814, 0),
			true,
			placemarkAttributes
		);
		var placemarkLayer = new WorldWind.RenderableLayer("Placemarks");
		placemarkLayer.addRenderable(placemark);
		wwd.addLayer(placemarkLayer);
		
		//Add a placemark at Koteshwor, Kathmandu
		placemarkAttributes = new WorldWind.PlacemarkAttributes();
		placemarkAttributes.imageScale = 30;
		placemarkAttributes.imageColor = new WorldWind.Color(0, 1, 0, 0.8);
		var placemark = new WorldWind.Placemark(
			new WorldWind.Position(27.67431, 85.34316, 0),
			true,
			placemarkAttributes
		);
		var placemarkLayer = new WorldWind.RenderableLayer("Placemarks");
		placemarkLayer.addRenderable(placemark);
		wwd.addLayer(placemarkLayer);
		
		//Add a placemark at Thapathali, Kathmandu
		placemarkAttributes = new WorldWind.PlacemarkAttributes();
		placemarkAttributes.imageScale = 30;
		placemarkAttributes.imageColor = new WorldWind.Color(0, 1, 0, 0.8);
		var placemark = new WorldWind.Placemark(
			new WorldWind.Position(27.6926, 85.31531, 0),
			true,
			placemarkAttributes
		);
		var placemarkLayer = new WorldWind.RenderableLayer("Placemarks");
		placemarkLayer.addRenderable(placemark);
		wwd.addLayer(placemarkLayer);
		
		//Download geoJSON
		var data = new WorldWind.GeoJSONParser(
		"http://nrcwg01.eco.umass.edu:8080/geoserver/topp/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=topp:states&maxFeatures=50&outputFormat=application%2Fjson"
		);
		data.load();
		//window.alert(data.layer == null));
		wwd.addLayer(data.layer);
		}
</script>
</body>
</html>